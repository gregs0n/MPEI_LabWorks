Before:
00000000000000000000001111111111
1023
After:
00000000000000000000001000000000
512
